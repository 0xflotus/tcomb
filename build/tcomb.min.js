!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.t=b()}(this,function(){"use strict";function a(a){throw r=!0,new Error(a)}function b(a){if(a!==!0){var b=t.call(arguments,1),c=b[0]?f.apply(null,b):"assert(): failed";s.onFail(c)}}function c(a,b){return b!==!0&&Object.freeze&&Object.freeze(a),a}function d(a,c,d){for(var e in c)c.hasOwnProperty(e)&&(d||b(!a.hasOwnProperty(e),"mixin(): cannot overwrite property %s",e),a[e]=c[e]);return a}function e(a){return a.meta&&a.meta.name?a.meta.name:a.name||"Unknown"}function f(){var a=t.call(arguments),b=0;return a[0].replace(/%([a-z%])/g,function(c,d){if("%%"===c)return c;b++;var e=f.formatters[d],g=a[b];return e(g)})}function g(a,b,c){return"struct"===a.meta.kind?new a(b,c):a(b,c)}function h(){b(A.is(s.update),"options.update is missing");var a=this,c=t.call(arguments),d=s.update.apply(a,c);return new a(d)}function i(a,c){function d(c){return b(!(this instanceof d),"cannot use new with %s",a),b(d.is(c),"bad %s",a),c}return d.meta={kind:"primitive",name:a,ctor:!1},d.is=c,d}function j(a,d){function e(e,f){b(z.is(e),"bad %s",d),b(l(x).is(f),"bad mut");for(var h in a)if(a.hasOwnProperty(h)){var i=a[h],j=e[h];this[h]=i.is(j)?j:g(i,j,f)}c(this,f)}return d=d||"struct()",e.meta={kind:"struct",props:a,name:d,ctor:!0},e.is=function(a){return a instanceof e},e.update=h,e}function k(a,c){function d(a,e){b(A.is(d.dispatch),"unimplemented %s.dispatch()",c);var f=d.dispatch(a);return this instanceof d&&b(f.meta.ctor,"cannot use new with %s",c),g(f,a,e)}return c=c||f("union(%s)",a.map(e).join(", ")),d.meta={kind:"union",types:a,name:c,ctor:a.every(function(a){return a.meta.ctor})},d.is=function(b){return a.some(function(a){return a.is(b)})},d}function l(a,c){function d(e,f){return b(!(this instanceof d),"cannot use new with %s",c),u.is(e)?null:g(a,e,f)}return c=c||f("maybe(%s)",e(a)),d.meta={kind:"maybe",type:a,name:c,ctor:!1},d.is=function(b){return u.is(b)||a.is(b)},d}function m(a,c){function d(a){return b(!(this instanceof d),"cannot use new with %s",c),b(d.is(a),"bad %s",c),a}return c=c||"enums()",d.meta={kind:"enums",map:a,name:c,ctor:!1},d.is=function(b){return v.is(b)&&a.hasOwnProperty(b)},d}function n(a,d){function i(e,f){b(y.is(e),"bad %s",d);for(var h=[],i=0;j>i;i++){var k=a[i],l=e[i];h.push(k.is(l)?l:g(k,l,f))}return c(h,f)}d=d||f("tuple(%s)",a.map(e).join(", "));var j=a.length;return i.meta={kind:"tuple",types:a,name:d,ctor:!0},i.is=function(b){return y.is(b)&&b.length===j&&a.every(function(a,c){return a.is(b[c])})},i.update=h,i}function o(a,c,d){function h(e,f){this instanceof h&&b(h.meta.ctor,"cannot use new with %s",d);var i=g(a,e,f);return b(c(i),"bad %s",d),i}return d=d||f("subtype(%s)",e(a)),h.meta={kind:"subtype",type:a,predicate:c,name:d,ctor:a.ctor},h.is=function(b){return a.is(b)&&c(b)},h}function p(a,d){function i(e,f){b(y.is(e),"bad %s",d);for(var h=[],i=0,j=e.length;j>i;i++){var k=e[i];h.push(a.is(k)?k:g(a,k,f))}return c(h,f)}return d=d||f("list(%s)",e(a)),i.meta={kind:"list",type:a,name:d,ctor:!0},i.is=function(b){return y.is(b)&&b.every(a.is)},i.update=h,i}function q(a,b,c,d){function e(){var d=t.call(arguments);d.length<b.length&&(d.length=b.length),d=a.is(d)?d:g(a,d);var e=b.apply(null,d);return c&&(e=c.is(e)?e:g(c,e)),e}return e.is=function(a){return a===e},e.meta={kind:"func",Arguments:a,f:b,Return:c,name:d},e}var r=!1,s={onFail:a,update:null},t=Array.prototype.slice;f.formatters={s:function(a){return String(a)},o:function(a){return JSON.stringify(a)}};var u=i("Nil",function(a){return null===a||void 0===a}),v=i("Str",function(a){return"string"==typeof a}),w=i("Num",function(a){return"number"==typeof a&&isFinite(a)&&!isNaN(a)}),x=i("Bool",function(a){return a===!0||a===!1}),y=i("Arr",function(a){return a instanceof Array}),z=i("Obj",function(a){return!u.is(a)&&a.constructor===Object&&!y.is(a)}),A=i("Func",function(a){return"function"==typeof a}),B=i("Err",function(a){return a instanceof Error});return m.of=function(a,b){a=v.is(a)?a.split(" "):a;var c={};return a.forEach(function(a,b){c[a]=b}),m(c,b)},{options:s,assert:b,freeze:c,mixin:d,print:f,getName:e,Nil:u,Str:v,Num:w,Bool:x,Arr:y,Obj:z,Func:A,Err:B,struct:j,enums:m,union:k,maybe:l,tuple:n,subtype:o,list:p,func:q}});
//# sourceMappingURL=tcomb.min.js.map