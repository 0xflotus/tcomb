!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.t=b()}(this,function(){"use strict";function a(a){throw w=!0,new Error(a)}function b(a){x.onFail(a)}function c(a){if(a!==!0){var c=y.call(arguments,1),d=c[0]?e.apply(null,c):"assert failed";b(d)}}function d(a,b,d){for(var e in b)b.hasOwnProperty(e)&&(d||c(!a.hasOwnProperty(e),"cannot overwrite property %s",e),a[e]=b[e]);return a}function e(){function a(a,f){if("%%"===a)return"%";if(d>=c)return a;var g=e.formatters[f];return g?g(b[d++]):a}var b=y.call(arguments),c=b.length,d=1,f=b[0],g=f.replace(/%([a-z%])/g,a);return c>d&&(g+=" "+b.slice(d).join(" ")),g}function f(a,b){return"function"==typeof b?e("Func",b.name):b}function g(a){return G.is(a)&&F.is(a.meta)}function h(a){return E.is(a)&&a.every(g)}function i(a){return c(g(a),"Invalid argument `type` of value `%j` supplied to `getName()`, expected a type.",a),a.meta.name}function j(a,b,d){return A.is(a)?h(d)?e(d.length>1?"%s([%s])":"%s(%s)",b,d.map(i).join(", ")):b:(c(B.is(a),z.ERR_BAD_COMBINATOR_ARGUMENT,"name",a,b,"a `maybe(Str)`"),a)}function k(a,b){c(!(a instanceof b),z.ERR_NEW_OPERATOR_FORBIDDEN,i(b))}function l(){c(G.is(x.update),z.ERR_OPTIONS_UPDATE_MISSING);var a=this,b=y.call(arguments),d=x.update.apply(a,b);return a(d)}function m(a){return k(this,m),a}function n(a,b){function d(b){return k(this,d),c(d.is(b),z.ERR_BAD_TYPE_VALUE,b,a,e("a `%s`",a)),b}return d.meta={kind:"primitive",name:a},d.is=b,d}function o(a,b){function d(e,f){if(c(F.is(e),z.ERR_BAD_TYPE_VALUE,e,b,"an `Obj`"),d.is(e))return e;if(!(this instanceof d))return new d(e,f);for(var g in a)if(a.hasOwnProperty(g)){var h=a[g],i=e[g];this[g]=h.is(i)?i:h(i,f)}f||Object.freeze(this)}return b=j(b,"struct"),c(F.is(a),z.ERR_BAD_COMBINATOR_ARGUMENT,"props",a,b,"an `Obj`"),d.meta={kind:"struct",props:a,name:b},d.is=function(a){return a instanceof d},d.update=l,d}function p(a,b){function d(a,e){k(this,d),c(G.is(d.dispatch),"unimplemented %s.dispatch()",b);var f=d.dispatch(a);return f(a,e)}var e="union";return b=j(b,e,a),c(h(a)&&a.length>=2,z.ERR_BAD_COMBINATOR_ARGUMENT,"types",a,e,"a list(type) of length >= 2"),d.meta={kind:"union",types:a,name:b},d.is=function(b){return a.some(function(a){return a.is(b)})},d}function q(a,b){function d(b,c){return k(this,d),A.is(b)?null:a(b,c)}var e="maybe";return b=j(b,e,[a]),c(g(a),z.ERR_BAD_COMBINATOR_ARGUMENT,"type",a,e,"a type"),"maybe"===a.meta.kind?a:(d.meta={kind:"maybe",type:a,name:b},d.is=function(b){return A.is(b)||a.is(b)},d)}function r(a,b){function d(a){return k(this,d),c(d.is(a),z.ERR_BAD_TYPE_VALUE,a,b,e),a}b=j(b,"enums"),c(F.is(a),z.ERR_BAD_COMBINATOR_ARGUMENT,"map",a,b,"an `Obj`");var e="a `Str`";return d.meta={kind:"enums",map:a,name:b},d.is=function(b){return B.is(b)&&a.hasOwnProperty(b)},d}function s(a,b){function d(e,f){if(k(this,d),c(E.is(e)&&e.length===g,z.ERR_BAD_TYPE_VALUE,e,b,m),d.isTuple(e))return e;for(var h=[],i=0;g>i;i++){var j=a[i],l=e[i];h.push(j.is(l)?l:j(l,f))}return f||Object.freeze(h),h}var f="tuple";b=j(b,f,a),c(h(a)&&a.length>=2,z.ERR_BAD_COMBINATOR_ARGUMENT,"types",a,f,"a list(type) of length >= 2");var g=a.length,m=e("a tuple `(%s)`",a.map(i).join(", "));return d.meta={kind:"tuple",types:a,name:b},d.isTuple=function(b){return a.every(function(a,c){return a.is(b[c])})},d.is=function(a){return E.is(a)&&a.length===g&&d.isTuple(a)},d.update=l,d}function t(a,b,d){function e(f,g){k(this,e);var i=a(f,g);return c(b(i),z.ERR_BAD_TYPE_VALUE,f,d,h),i}var f="subtype";d=j(d,f,[a]),c(g(a),z.ERR_BAD_COMBINATOR_ARGUMENT,"type",a,f,"a type"),c(G.is(b),z.ERR_BAD_COMBINATOR_ARGUMENT,"predicate",b,f,"a `Func`");var h=b.__doc__||"a valid value for the predicate";return e.meta={kind:"subtype",type:a,predicate:b,name:d},e.is=function(c){return a.is(c)&&b(c)},e}function u(a,b){function d(e,f){if(k(this,d),c(E.is(e),z.ERR_BAD_TYPE_VALUE,e,b,h),d.isList(e))return e;for(var g=[],i=0,j=e.length;j>i;i++){var l=e[i];g.push(a.is(l)?l:a(l,f))}return f||Object.freeze(g),g}var f="list";b=j(b,f,[a]),c(g(a),z.ERR_BAD_COMBINATOR_ARGUMENT,"type",a,f,"a type");var h=e("a list of `%s`",i(a));return d.meta={kind:"list",type:a,name:b},d.isList=function(b){return b.every(a.is)},d.is=function(a){return E.is(a)&&d.isList(a)},d.update=l,d}function v(a,b,d,e){function f(){var c=y.call(arguments);c.length<b.length&&(c.length=b.length),c=a.is(c)?c:a(c);var e=b.apply(null,c);return d&&(e=d.is(e)?e:d(e)),e}return e=e||"func()",c(g(a),z.ERR_BAD_COMBINATOR_ARGUMENT,"Arguments",a,e,"a type"),c(G.is(b),z.ERR_BAD_COMBINATOR_ARGUMENT,"f",b,e,"a `Func`"),c(A.is(d)||g(d),z.ERR_BAD_COMBINATOR_ARGUMENT,"Return",d,e,"a type"),d=d||null,g(b)&&b.meta.Arguments===a&&b.meta.Return===d?b:(f.is=function(a){return a===f},f.meta={kind:"func",Arguments:a,f:b,Return:d,name:e},f)}var w=!1,x={onFail:a,update:null},y=Array.prototype.slice,z={ERR_BAD_TYPE_VALUE:"Invalid type argument `value` of value `%j` supplied to `%s`, expected %s.",ERR_BAD_COMBINATOR_ARGUMENT:"Invalid combinator argument `%s` of value `%j` supplied to `%s`, expected %s.",ERR_OPTIONS_UPDATE_MISSING:"Missing `options.update` implementation",ERR_NEW_OPERATOR_FORBIDDEN:"Operator `new` is forbidden for `%s`"};e.formatters={s:function(a){return String(a)},j:function(a){return JSON.stringify(a,f)}},m.meta={kind:"any",name:"Any"},m.is=function(){return!0};var A=n("Nil",function(a){return null===a||void 0===a}),B=n("Str",function(a){return"string"==typeof a}),C=n("Num",function(a){return"number"==typeof a&&isFinite(a)&&!isNaN(a)}),D=n("Bool",function(a){return a===!0||a===!1}),E=n("Arr",function(a){return a instanceof Array}),F=n("Obj",function(a){return!A.is(a)&&"object"==typeof a&&!E.is(a)}),G=n("Func",function(a){return"function"==typeof a}),H=n("Err",function(a){return a instanceof Error}),I=n("Re",function(a){return a instanceof RegExp}),J=n("Dat",function(a){return a instanceof Date});return r.of=function(a,b){a=B.is(a)?a.split(" "):a;var c={};return a.forEach(function(a){c[a]=a}),r(c,b)},{errs:z,options:x,assert:c,mixin:d,format:e,isType:g,getName:i,fail:b,slice:y,Any:m,Nil:A,Str:B,Num:C,Bool:D,Arr:E,Obj:F,Func:G,Err:H,Re:I,Dat:J,struct:o,enums:r,union:p,maybe:q,tuple:s,subtype:t,list:u,func:v}});
//# sourceMappingURL=tcomb.min.js.map