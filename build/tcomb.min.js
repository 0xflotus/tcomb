!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.t=b()}(this,function(){"use strict";function a(b){if(b!==!0){var c=Array.prototype.slice.call(arguments,1),d=c[0]?e.apply(null,c):"assert(): failed";a.onFail(d)}}function b(a,b){return b!==!0&&Object.freeze&&Object.freeze(a),a}function c(b,c,d){for(var e in c)c.hasOwnProperty(e)&&(d||a(!b.hasOwnProperty(e),"mixin(): cannot overwrite property %s",e),b[e]=c[e]);return b}function d(a){return a.meta&&a.meta.name?a.meta.name:a.name||"Unknown"}function e(){var a=Array.prototype.slice.call(arguments),b=0;return a[0].replace(/%([a-z%])/g,function(c,d){if("%%"===c)return c;b++;var f=e.formatters[d],g=a[b];return f(g)})}function f(a,b,c){return x.is(a)&&a>=b&&c>=a}function g(b,c){a(z.is(b),"append(): bad array");var d=b.slice();return d.push(c),d}function h(b,c){a(z.is(b),"prepend(): bad array");var d=b.slice();return d.unshift(c),d}function i(b,c,d){a(z.is(b),"update(): bad array"),a(f(c,0,b.length-1),"update(): bad index");var e=b.slice();return e[c]=d,e}function j(b,c){a(z.is(b),"remove(): bad array"),a(f(c,0,b.length-1),"remove(): bad index");var d=b.slice();return d.splice(c,1),d}function k(b,c,d){a(z.is(b),"move(): bad array"),a(f(c,0,b.length-1),"move(): bad from"),a(f(d,0,b.length-1),"move(): bad to");var e=b.slice();if(c===d)return e;var g=e.splice(c,1)[0];return e.splice(d,0,g),e}function l(a,b,c){return"struct"===a.meta.kind?new a(b,c):a(b,c)}function m(b,c){function d(c){return a(!(this instanceof d),"cannot use new with %s",b),a(d.is(c),"bad %s",b),c}return d.meta={kind:"primitive",name:b,ctor:!1},d.is=c,d}function n(c,d){function e(e,f){a(A.is(e),"bad %s",d),a(p(y).is(f),"bad mut");for(var g in c)if(c.hasOwnProperty(g)){var h=c[g],i=e[g];this[g]=h.is(i)?i:l(h,i,f)}b(this,f)}return d=d||"struct()",e.meta={kind:"struct",props:c,name:d,ctor:!0},e.is=function(a){return a instanceof e},e.update=function(b,d,f){a(e.is(b)),a(A.is(d));var g={};for(var h in c)c.hasOwnProperty(h)&&(g[h]=d.hasOwnProperty(h)?d[h]:b[h]);return new e(g,f)},e}function o(b,c){function f(b,d){a(B.is(f.dispatch),"unimplemented %s.dispatch()",c);var e=f.dispatch(b);return this instanceof f&&a(e.meta.ctor,"cannot use new with %s",c),l(e,b,d)}return c=c||e("union(%s)",b.map(d).join(", ")),f.meta={kind:"union",types:b,name:c,ctor:b.every(function(a){return a.meta.ctor})},f.is=function(a){return b.some(function(b){return b.is(a)})},f}function p(b,c){function f(d,e){return a(!(this instanceof f),"cannot use new with %s",c),v.is(d)?null:l(b,d,e)}return c=c||e("maybe(%s)",d(b)),f.meta={kind:"maybe",type:b,name:c,ctor:!1},f.is=function(a){return v.is(a)||b.is(a)},f}function q(b,c){function d(b){return a(!(this instanceof d),"cannot use new with %s",c),a(d.is(b),"bad %s",c),b}return c=c||"enums()",d.meta={kind:"enums",map:b,name:c,ctor:!1},d.is=function(a){return w.is(a)&&b.hasOwnProperty(a)},d}function r(c,f){function g(d,e){a(z.is(d),"bad %s",f);for(var g=[],i=0;h>i;i++){var j=c[i],k=d[i];g.push(j.is(k)?k:l(j,k,e))}return b(g,e)}f=f||e("tuple(%s)",c.map(d).join(", "));var h=c.length;return g.meta={kind:"tuple",types:c,name:f,ctor:!0},g.is=function(a){return z.is(a)&&a.length===h&&c.every(function(b,c){return b.is(a[c])})},g.update=function(a,d,e,f){var g=c[d],h=g.is(e)?e:l(g,e,f),j=i(a,d,h);return b(j,f)},g}function s(b,c,f){function g(d,e){this instanceof g&&a(g.meta.ctor,"cannot use new with %s",f);var h=l(b,d,e);return a(c(h),"bad %s",f),h}return f=f||e("subtype(%s)",d(b)),g.meta={kind:"subtype",type:b,predicate:c,name:f,ctor:b.ctor},g.is=function(a){return b.is(a)&&c(a)},g}function t(c,f){function m(d,e){a(z.is(d),"bad %s",f);for(var g=[],h=0,i=d.length;i>h;h++){var j=d[h];g.push(c.is(j)?j:l(c,j,e))}return b(g,e)}return f=f||e("list(%s)",d(c)),m.meta={kind:"list",type:c,name:f,ctor:!0},m.is=function(a){return z.is(a)&&a.every(c.is)},m.append=function(a,d,e){var f=c.is(d)?d:l(c,d,e),h=g(a,f);return b(h,e)},m.prepend=function(a,d,e){var f=c.is(d)?d:l(c,d,e),g=h(a,f);return b(g,e)},m.update=function(a,d,e,f){var g=c.is(e)?e:l(c,e,f),h=i(a,d,g);return b(h,f)},m.remove=function(a,c,d){var e=j(a,c);return b(e,d)},m.move=function(a,c,d,e){var f=k(a,c,d);return b(f,e)},m}function u(a,b,c,d){function e(){var d=Array.prototype.slice.call(arguments);d.length<b.length&&(d.length=b.length),d=a.is(d)?d:l(a,d);var e=b.apply(null,d);return c&&(e=c.is(e)?e:l(c,e)),e}return e.is=function(a){return a===e},e.meta={kind:"func",Arguments:a,f:b,Return:c,name:d},e}a.failed=!1,a.onFail=function(b){throw!a.failed,a.failed=!0,new Error(b)},e.formatters={s:function(a){return String(a)},o:function(a){return JSON.stringify(a)}};var v=m("Nil",function(a){return null===a||void 0===a}),w=m("Str",function(a){return"string"==typeof a}),x=m("Num",function(a){return"number"==typeof a&&isFinite(a)&&!isNaN(a)}),y=m("Bool",function(a){return a===!0||a===!1}),z=m("Arr",function(a){return a instanceof Array}),A=m("Obj",function(a){return!v.is(a)&&a.constructor===Object&&!z.is(a)}),B=m("Func",function(a){return"function"==typeof a}),C=m("Err",function(a){return a instanceof Error});return q.of=function(a,b){a=w.is(a)?a.split(" "):a;var c={};return a.forEach(function(a,b){c[a]=b}),q(c,b)},{assert:a,freeze:b,mixin:c,append:g,prepend:h,update:i,remove:j,move:k,print:e,getName:d,Nil:v,Str:w,Num:x,Bool:y,Arr:z,Obj:A,Func:B,Err:C,struct:n,enums:q,union:o,maybe:p,tuple:r,subtype:s,list:t,func:u}});
//# sourceMappingURL=tcomb.min.js.map