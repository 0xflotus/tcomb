//     tcomb 0.2.1
//     https://github.com/gcanti/tcomb
//     (c) 2014 Giulio Canti <giulio.canti@gmail.com>
//     tcomb may be freely distributed under the MIT license.
!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.t=b()}(this,function(){"use strict";function a(a){throw x=!0,new Error(a)}function b(a,b){a=a.split(".");var c=a.length-1,d={},e=arguments.length>1;return a.reduce(function(a,d,f){return a[d]=e&&f===c?b:{}},d),d}function c(a,d,e){if(!d)return a;if(C.is(d))return c(a,b(d,{$set:e}));e=F.is(a)?a.concat():f({},a);for(var g in d)if(d.hasOwnProperty(g)){var h=d[g];switch(g){case"$apply":return h(a);case"$concat":return e.concat(h);case"$set":return d[g];case"$splice":return e.splice.apply(e,h),e;case"$swap":var i=e[h.to];return e[h.to]=e[h.from],e[h.from]=i,e;case"$remove":return c._;case"$prepend":return[].concat(h).concat(e)}e[g]=c(e[g],h),e[g]===c._&&delete e[g]}return e}function d(a){y.onFail(a)}function e(a){if(a!==!0){var b=z.call(arguments,1),c=b[0]?h.apply(null,b):"assert failed";d(c)}}function f(a,b,c){if(B.is(b))return a;for(var d in b)b.hasOwnProperty(d)&&(c||e(!a.hasOwnProperty(d),"cannot overwrite property %s",d),a[d]=b[d]);return a}function g(){return Array.prototype.reduce.call(arguments,function(a,b){return f(a,b,!0)},{})}function h(){function a(a,e){if("%%"===a)return"%";if(d>=c)return a;var f=h.formatters[e];return f?f(b[d++]):a}var b=z.call(arguments),c=b.length,d=1,e=b[0],f=e.replace(/%([a-z%])/g,a);return c>d&&(f+=" "+b.slice(d).join(" ")),f}function i(a,b){return"function"==typeof b?h("Func",b.name):b}function j(a){return e(L.is(a),"Invalid argument `type` of value `%j` supplied to `getName()`, expected a type.",a),a.meta.name}function k(a){return e(L.is(a),"Invalid argument `type` of value `%j` supplied to `geKind()`, expected a type.",a),a.meta.kind}function l(a,b){e(!(a instanceof b),"Operator `new` is forbidden for `%s`",j(b))}function m(){var a=this,b=y.update.apply(a,arguments);return a(b)}function n(a,b){function c(d){return l(this,c),e(b(d),"Invalid `%s` supplied to `%s`",d,a),d}return e("string"==typeof a,"Invalid argument `name` supplied to `irriducible()`"),e("function"==typeof b,"Invalid argument `is` supplied to `irriducible()`"),c.meta={kind:"irriducible",name:a},c.is=b,c}function o(a,b){function c(d,f){if(c.is(d))return d;if(e(G.is(d),"Invalid `%s` supplied to `%s`, expected an `Obj`",d,b),!(this instanceof c))return new c(d,f);for(var g in a)if(a.hasOwnProperty(g)){var h=a[g],i=d[g];this[g]=h(i,f)}f!==!0&&Object.freeze(this)}return e(v(C,L).is(a),"Invalid argument `props` supplied to `struct()`"),e(q(C).is(b),"Invalid argument `name` supplied to `struct()`"),b=b||"struct",c.meta={kind:"struct",props:a,name:b},c.is=function(a){return a instanceof c},c.update=m,c.extend=function(b,c){return o(f(f({},a),b),c)},c}function p(a,b){function c(a,d){l(this,c),e(H.is(c.dispatch),"unimplemented %s.dispatch()",b);var f=c.dispatch(a);return e(L.is(f),"%s.dispatch() returns no type",b),f(a,d)}e(u(L).is(a),"Invalid argument `types` supplied to `union()`");var d=a.length;return e(d>=2,"Invalid argument `types` supplied to `union()`"),e(q(C).is(b),"Invalid argument `name` supplied to `union()`"),b=b||h("union([%s])",a.map(j).join(", ")),c.meta={kind:"union",types:a,name:b},c.is=function(b){return a.some(function(a){return a.is(b)})},c.dispatch=function(b){for(var c=0,d=a.length;d>c;c++)if(a[c].is(b))return a[c]},c}function q(a,b){function c(b,d){return l(this,c),B.is(b)?null:a(b,d)}return e(L.is(a),"Invalid argument `type` supplied to `maybe()`"),"maybe"===k(a)?a:(e(B.is(b)||C.is(b),"Invalid argument `name` supplied to `maybe()`"),b=b||h("maybe(%s)",j(a)),c.meta={kind:"maybe",type:a,name:b},c.is=function(b){return B.is(b)||a.is(b)},c)}function r(a,b){function c(a){return l(this,c),e(c.is(a),"Invalid `%s` supplied to `%s`, expected one of %j",a,b,d),a}e(G.is(a),"Invalid argument `map` supplied to `enums()`"),e(q(C).is(b),"Invalid argument `name` supplied to `enums()`"),b=b||"enums";var d=Object.keys(a);return c.meta={kind:"enums",map:a,name:b},c.is=function(b){return C.is(b)&&a.hasOwnProperty(b)},c}function s(a,b){function c(f,g){if(e(F.is(f)&&f.length===d,"Invalid `%s` supplied to `%s`, expected an `Arr` of length `%s`",f,b,d),c.isTuple(f))return f;for(var h=[],i=0;d>i;i++){var j=a[i],k=f[i];h.push(j(k,g))}return g!==!0&&Object.freeze(h),h}e(u(L).is(a),"Invalid argument `types` supplied to `tuple()`");var d=a.length;return e(q(C).is(b),"Invalid argument `name` supplied to `tuple()`"),b=b||h("tuple([%s])",a.map(j).join(", ")),c.meta={kind:"tuple",types:a,length:d,name:b},c.isTuple=function(b){return a.every(function(a,c){return a.is(b[c])})},c.is=function(a){return F.is(a)&&a.length===d&&c.isTuple(a)},c.update=m,c}function t(a,b,c){function d(g,h){l(this,d);var i=a(g,h);return e(b(i),"Invalid `%s` supplied to `%s`, %s",g,c,f),i}e(L.is(a),"Invalid argument `type` supplied to `subtype()`"),e(H.is(b),"Invalid argument `predicate` supplied to `subtype()`"),e(q(C).is(c),"Invalid argument `name` supplied to `subtype()`"),c=c||h("subtype(%s)",j(a));var f=b.__doc__||h("insert a valid value for %s",b.name||"the subtype");return d.meta={kind:"subtype",type:a,predicate:b,name:c},d.is=function(c){return a.is(c)&&b(c)},d}function u(a,b){function c(d,f){if(e(F.is(d),"Invalid `%s` supplied to `%s`, expected an `Arr`",d,b),c.isList(d))return d;for(var g=[],h=0,i=d.length;i>h;h++){var j=d[h];g.push(a(j,f))}return f!==!0&&Object.freeze(g),g}return e(L.is(a),"Invalid argument `type` supplied to `list()`"),e(q(C).is(b),"Invalid argument `name` supplied to `list()`"),b=b||h("list(%s)",j(a)),c.meta={kind:"list",type:a,name:b},c.isList=function(b){return b.every(a.is)},c.is=function(a){return F.is(a)&&c.isList(a)},c.update=m,c}function v(a,b,c){function d(f,g){if(e(G.is(f),"Invalid `%s` supplied to `%s`, expected an `Obj`",f,c),d.isDict(f))return f;var h={};for(var i in f)if(f.hasOwnProperty(i)){i=a(i);var j=f[i];h[i]=b(j,g)}return g!==!0&&Object.freeze(h),h}return e(L.is(a),"Invalid argument `domain` supplied to `dict()`"),e(L.is(b),"Invalid argument `codomain` supplied to `dict()`"),e(q(C).is(c),"Invalid argument `name` supplied to `dict()`"),c=c||h("dict(%s, %s)",j(a),j(b)),d.meta={kind:"dict",domain:a,codomain:b,name:c},d.isDict=function(c){for(var d in c)if(c.hasOwnProperty(d)&&(!a.is(d)||!b.is(c[d])))return!1;return!0},d.is=function(a){return G.is(a)&&d.isDict(a)},d.update=m,d}function w(a,b,c){function d(a){return w.is(a)||(a=d.of(a)),e(d.is(a),"Invalid `%s` supplied to `%s`",a,c),a}a=F.is(a)?a:[a],e(u(L).is(a),"Invalid argument `domain` supplied to `func()`"),e(L.is(b),"Invalid argument `codomain` supplied to `func()`"),c=c||h("func([%s], %s)",a.map(j).join(", "),j(b));var f=a.length;return d.meta={kind:"func",domain:a,codomain:b,name:c},d.is=function(c){return w.is(c)&&c.func.domain.length===a.length&&c.func.domain.every(function(b,c){return b===a[c]})&&c.func.codomain===b},d.of=function(c){function g(){var d=z.call(arguments),e=Math.min(d.length,f);if(d=s(a.slice(0,e))(d),e===f){var g=c.apply(this,d);return g=b(g)}var h=Function.prototype.bind.apply(c,[this].concat(d)),i=w(a.slice(e),b);return i.of(h)}return e("function"==typeof c),d.is(c)?c:(g.func={domain:a,codomain:b,f:c},g)},d}var x=!1;c._={};var y={onFail:a,update:c},z=Array.prototype.slice;h.formatters={s:function(a){return String(a)},j:function(a){return JSON.stringify(a,i)}};var A=n("Any",function(){return!0}),B=n("Nil",function(a){return null===a||void 0===a}),C=n("Str",function(a){return"string"==typeof a}),D=n("Num",function(a){return"number"==typeof a&&isFinite(a)&&!isNaN(a)}),E=n("Bool",function(a){return a===!0||a===!1}),F=n("Arr",function(a){return a instanceof Array}),G=n("Obj",function(a){return!B.is(a)&&"object"==typeof a&&!F.is(a)}),H=n("Func",function(a){return"function"==typeof a}),I=n("Err",function(a){return a instanceof Error}),J=n("Re",function(a){return a instanceof RegExp}),K=n("Dat",function(a){return a instanceof Date}),L=n("Type",function(a){return H.is(a)&&G.is(a.meta)});return r.of=function(a,b){a=C.is(a)?a.split(" "):a;var c={};return a.forEach(function(a){c[a]=a}),r(c,b)},w.is=function(a){return H.is(a)&&G.is(a.func)},{util:{mixin:f,merge:g,format:h,getName:j,getKind:k,slice:z,namespace:b,defaultUpdate:c},options:y,assert:e,fail:d,Any:A,Nil:B,Str:C,Num:D,Bool:E,Arr:F,Obj:G,Func:H,Err:I,Re:J,Dat:K,Type:L,irriducible:n,struct:o,enums:r,union:p,maybe:q,tuple:s,subtype:t,list:u,dict:v,func:w}});
//# sourceMappingURL=tcomb.min.js.map